<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pendataan Hewan PWA</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Pendataan Hewan" />
    <meta name="theme-color" content="#4F46E5" />
    <meta
      name="description"
      content="Aplikasi PWA untuk pendataan hewan dengan fitur barcode"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ¾ Pendataan Hewan</h1>
        <p>Sistem manajemen data hewan dengan barcode</p>
      </div>

      <div class="nav-tabs">
        <button class="nav-tab active" onclick="showTab('dashboard')">
          ğŸ“Š Dashboard
        </button>
        <button class="nav-tab" onclick="showTab('pendataan')">
          ğŸ“ Pendataan
        </button>
        <button class="nav-tab" onclick="showTab('perawatan')">
          ğŸ¥ Perawatan
        </button>
        <button class="nav-tab" onclick="showTab('monitoring')">
          ğŸ“ˆ Monitoring
        </button>
        <button class="nav-tab" onclick="showTab('panen')">
          ğŸŒ¾ Panen
        </button>
        <button class="nav-tab" onclick="showTab('evaluasi')">
          ğŸ“‹ Evaluasi
        </button>
      </div>

      <!-- Dashboard Tab -->
      <div id="dashboard" class="tab-content active">
        <div class="dashboard-header">
          <h2>ğŸ  Dashboard KPI Peternakan</h2>
          <p>Pantau performa peternakan Anda secara real-time</p>
        </div>
        
        <!-- KPI Cards -->
        <div class="kpi-grid">
          <div class="kpi-card primary">
            <div class="kpi-icon">ğŸ„</div>
            <div class="kpi-info">
              <div class="kpi-number" id="totalAnimals">0</div>
              <div class="kpi-label">Total Hewan</div>
            </div>
          </div>
          <div class="kpi-card success">
            <div class="kpi-icon">ğŸ’š</div>
            <div class="kpi-info">
              <div class="kpi-number" id="healthyAnimals">0</div>
              <div class="kpi-label">Hewan Sehat</div>
            </div>
          </div>
          <div class="kpi-card warning">
            <div class="kpi-icon">â°</div>
            <div class="kpi-info">
              <div class="kpi-number" id="scheduledCare">0</div>
              <div class="kpi-label">Perawatan Terjadwal</div>
            </div>
          </div>
          <div class="kpi-card info">
            <div class="kpi-icon">ğŸ“ˆ</div>
            <div class="kpi-info">
              <div class="kpi-number" id="avgGrowth">0%</div>
              <div class="kpi-label">Rata-rata Pertumbuhan</div>
            </div>
          </div>
          <div class="kpi-card secondary">
            <div class="kpi-icon">ğŸŒ¾</div>
            <div class="kpi-info">
              <div class="kpi-number" id="readyHarvest">0</div>
              <div class="kpi-label">Siap Panen</div>
            </div>
          </div>
          <div class="kpi-card accent">
            <div class="kpi-icon">ğŸ’°</div>
            <div class="kpi-info">
              <div class="kpi-number" id="monthlyRevenue">Rp 0</div>
              <div class="kpi-label">Pendapatan Bulan Ini</div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
          <h3>ğŸš€ Aksi Cepat</h3>
          <div class="action-buttons">
            <button class="action-btn" onclick="showTab('pendataan')">
              â• Tambah Hewan Baru
            </button>
            <button class="action-btn" onclick="showTab('perawatan')">
              ğŸ’‰ Jadwal Perawatan
            </button>
            <button class="action-btn" onclick="showTab('monitoring')">
              ğŸ“ Input Data Pertumbuhan
            </button>
            <button class="action-btn" onclick="showTab('panen')">
              ğŸ“¦ Catat Hasil Panen
            </button>
          </div>
        </div>

        <!-- Recent Activities -->
        <div class="recent-activities">
          <h3>ğŸ“ Aktivitas Terbaru</h3>
          <div id="recentActivities" class="activity-list">
            <div class="no-data">Belum ada aktivitas terbaru</div>
          </div>
        </div>
      </div>

      <!-- Pendataan Hewan Tab -->
      <div id="pendataan" class="tab-content">
        <div class="module-header">
          <h2>ğŸ“ Pendataan Hewan</h2>
          <p>Registrasi dan manajemen data hewan ternak yang komprehensif</p>
        </div>

        <div class="pendataan-tabs">
          <button class="sub-tab active" onclick="showSubTab('registrasi')">
            â• Registrasi Hewan Baru
          </button>
          <button class="sub-tab" onclick="showSubTab('manajemen')">
            ğŸ“‹ Manajemen Data
          </button>
          <button class="sub-tab" onclick="showSubTab('pencarian')">
            ğŸ” Pencarian & Filter
          </button>
        </div>

        <!-- Registrasi Sub Tab -->
        <div id="registrasi" class="sub-content active">
          <div class="form-sections">
            <!-- Identifikasi Section -->
            <div class="form-section">
              <h3>ğŸ·ï¸ Identifikasi Hewan</h3>
              <form id="animalForm">
                <div class="form-row">
                  <div class="form-group">
                    <label for="animalId">ID Hewan (Auto Generated)</label>
                    <input type="text" id="animalId" readonly />
                  </div>
                  <div class="form-group">
                    <label for="qrCode">QR Code</label>
                    <div class="qr-generator">
                      <button type="button" onclick="generateQRCode()" class="btn-small">
                        ğŸ“± Generate QR
                      </button>
                      <div id="qrDisplay"></div>
                    </div>
                  </div>
                </div>
                
                <div class="form-row">
                  <div class="form-group">
                    <label for="name">Nama Hewan *</label>
                    <input type="text" id="name" required />
                  </div>
                  <div class="form-group">
                    <label for="species">Spesies *</label>
                    <select id="species" required>
                      <option value="">Pilih Spesies</option>
                      <option value="Sapi">Sapi</option>
                      <option value="Kambing">Kambing</option>
                      <option value="Domba">Domba</option>
                      <option value="Ayam">Ayam</option>
                      <option value="Bebek">Bebek</option>
                      <option value="Lainnya">Lainnya</option>
                    </select>
                  </div>
                </div>
            </div>

            <!-- Data Biometrik Section -->
            <div class="form-section">
              <h3>ğŸ“ Data Biometrik</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="breed">Ras/Breed</label>
                  <input type="text" id="breed" />
                </div>
                <div class="form-group">
                  <label for="gender">Jenis Kelamin *</label>
                  <select id="gender" required>
                    <option value="">Pilih Jenis Kelamin</option>
                    <option value="Jantan">Jantan</option>
                    <option value="Betina">Betina</option>
                  </select>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="birthDate">Tanggal Lahir</label>
                  <input type="date" id="birthDate" />
                </div>
                <div class="form-group">
                  <label for="age">Umur (bulan)</label>
                  <input type="number" id="age" min="0" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="weight">Berat Awal (kg)</label>
                  <input type="number" id="weight" step="0.1" min="0" />
                </div>
                <div class="form-group">
                  <label for="height">Tinggi (cm)</label>
                  <input type="number" id="height" step="0.1" min="0" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="color">Warna Dominan</label>
                  <input type="text" id="color" />
                </div>
                <div class="form-group">
                  <label for="markings">Tanda Khusus</label>
                  <input type="text" id="markings" placeholder="Ciri khas, tatto, dll" />
                </div>
              </div>
            </div>

            <!-- Silsilah & Keturunan Section -->
            <div class="form-section">
              <h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Silsilah & Keturunan</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="parentMale">ID Pejantan (Ayah)</label>
                  <input type="text" id="parentMale" />
                </div>
                <div class="form-group">
                  <label for="parentFemale">ID Betina (Ibu)</label>
                  <input type="text" id="parentFemale" />
                </div>
              </div>
              
              <div class="form-group">
                <label for="generation">Generasi</label>
                <select id="generation">
                  <option value="">Pilih Generasi</option>
                  <option value="F0">F0 (Indukan)</option>
                  <option value="F1">F1 (Generasi 1)</option>
                  <option value="F2">F2 (Generasi 2)</option>
                  <option value="F3">F3 (Generasi 3)</option>
                </select>
              </div>
            </div>

            <!-- Lokasi & Status Section -->
            <div class="form-section">
              <h3>ğŸ“ Lokasi & Status</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="location">Lokasi Kandang</label>
                  <input type="text" id="location" />
                </div>
                <div class="form-group">
                  <label for="status">Status Hewan</label>
                  <select id="status">
                    <option value="Aktif">Aktif</option>
                    <option value="Sakit">Sakit</option>
                    <option value="Karantina">Karantina</option>
                    <option value="Dijual">Dijual</option>
                    <option value="Mati">Mati</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label for="purpose">Tujuan Pemeliharaan</label>
                <select id="purpose">
                  <option value="">Pilih Tujuan</option>
                  <option value="Pembibitan">Pembibitan</option>
                  <option value="Penggemukan">Penggemukan</option>
                  <option value="Perah">Perah</option>
                  <option value="Telur">Telur</option>
                  <option value="Kombinasi">Kombinasi</option>
                </select>
              </div>
            </div>

            <!-- Upload Dokumen Section -->
            <div class="form-section">
              <h3>ğŸ“„ Dokumen Pendukung</h3>
              <div class="document-upload">
                <div class="upload-area">
                  <input type="file" id="documents" multiple accept=".pdf,.jpg,.jpeg,.png" />
                  <label for="documents" class="upload-label">
                    ğŸ“ Upload Sertifikat, Foto, atau Dokumen Lainnya
                  </label>
                </div>
                <div id="uploadedFiles" class="file-list"></div>
              </div>
            </div>

            <!-- Catatan Section -->
            <div class="form-section">
              <h3>ğŸ“ Catatan Tambahan</h3>
              <div class="form-group">
                <label for="notes">Catatan</label>
                <textarea id="notes" rows="4" placeholder="Catatan khusus, riwayat kesehatan awal, dll"></textarea>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">
                ğŸ’¾ Simpan Data Hewan
              </button>
              <button type="reset" class="btn btn-secondary">
                ğŸ”„ Reset Form
              </button>
            </div>
          </form>
          </div>
        </div>

        <!-- Manajemen Data Sub Tab -->
        <div id="manajemen" class="sub-content">
          <div class="data-management">
            <div class="management-actions">
              <button class="btn btn-info" onclick="exportAllData()">
                ğŸ“¤ Export Data
              </button>
              <button class="btn btn-success" onclick="importData()">
                ğŸ“¥ Import Data
              </button>
              <button class="btn btn-warning" onclick="printAnimalList()">
                ğŸ–¨ï¸ Print Laporan
              </button>
            </div>
            
            <div class="data-overview">
              <h3>ğŸ“Š Ringkasan Data</h3>
              <div id="dataOverview" class="overview-cards">
                <!-- Will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Pencarian Sub Tab -->
        <div id="pencarian" class="sub-content">
          <div class="advanced-search">
            <h3>ğŸ” Pencarian & Filter Lanjut</h3>
            
            <!-- Search akan menggunakan modul yang sudah ada -->
            <div class="search-placeholder">
              <p>Gunakan tab <strong>ğŸ” Pencarian</strong> untuk fitur pencarian yang lebih lengkap</p>
              <button class="btn" onclick="showTab('search')">
                ğŸ” Buka Modul Pencarian
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Perawatan Hewan Tab -->
      <div id="perawatan" class="tab-content">
        <div class="module-header">
          <h2>ğŸ¥ Perawatan Hewan</h2>
          <p>Manajemen kesehatan dan perawatan hewan yang optimal</p>
        </div>

        <div class="perawatan-tabs">
          <button class="sub-tab active" onclick="showSubTab('jadwal')">
            ğŸ“… Jadwal Perawatan
          </button>
          <button class="sub-tab" onclick="showSubTab('rekam-medis')">
            ğŸ“‹ Rekam Medis
          </button>
          <button class="sub-tab" onclick="showSubTab('layanan-medis')">
            ğŸ‘¨â€âš•ï¸ Layanan Medis
          </button>
        </div>

        <!-- Jadwal Perawatan Sub Tab -->
        <div id="jadwal" class="sub-content active">
          <div class="schedule-section">
            <div class="schedule-actions">
              <button class="btn btn-primary" onclick="showAddScheduleModal()">
                â• Tambah Jadwal Baru
              </button>
            </div>

            <!-- Calendar View -->
            <div class="calendar-container">
              <div class="calendar-header">
                <button onclick="previousMonth()" class="btn-small">â—€</button>
                <h3 id="currentMonth">Oktober 2025</h3>
                <button onclick="nextMonth()" class="btn-small">â–¶</button>
              </div>
              <div id="calendarGrid" class="calendar-grid">
                <!-- Calendar will be generated by JavaScript -->
              </div>
            </div>

            <!-- Upcoming Schedules -->
            <div class="upcoming-schedules">
              <h3>â° Jadwal Mendatang (7 hari ke depan)</h3>
              <div id="upcomingList" class="schedule-list">
                <!-- Will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Rekam Medis Sub Tab -->
        <div id="rekam-medis" class="sub-content">
          <div class="medical-records">
            <div class="record-actions">
              <button class="btn btn-primary" onclick="showAddMedicalRecordModal()">
                â• Tambah Catatan Medis
              </button>
            </div>

            <div class="animal-selector">
              <label for="selectAnimalMedical">Pilih Hewan:</label>
              <select id="selectAnimalMedical" onchange="loadMedicalHistory()">
                <option value="">-- Pilih Hewan --</option>
                <!-- Will be populated by JavaScript -->
              </select>
            </div>

            <div id="medicalHistory" class="medical-history">
              <!-- Medical records will be displayed here -->
            </div>
          </div>
        </div>

        <!-- Layanan Medis Sub Tab -->
        <div id="layanan-medis" class="sub-content">
          <div class="medical-services">
            <div class="services-grid">
              <div class="service-card">
                <div class="service-icon">ğŸ‘¨â€âš•ï¸</div>
                <h3>Konsultasi Dokter Hewan</h3>
                <p>Konsultasi online atau booking janji temu</p>
                <button class="btn">ğŸ“ Hubungi Dokter</button>
              </div>

              <div class="service-card">
                <div class="service-icon">ğŸ’Š</div>
                <h3>Apotek Hewan</h3>
                <p>Pesan obat dan vitamin untuk hewan</p>
                <button class="btn">ğŸ›’ Buka Apotek</button>
              </div>

              <div class="service-card">
                <div class="service-icon">ğŸš¨</div>
                <h3>Emergency Call</h3>
                <p>Panggilan darurat untuk kondisi kritis</p>
                <button class="btn btn-danger">ğŸš¨ Emergency</button>
              </div>

              <div class="service-card">
                <div class="service-icon">ğŸ¥</div>
                <h3>Klinik Terdekat</h3>
                <p>Cari klinik hewan terdekat</p>
                <button class="btn">ğŸ“ Cari Klinik</button>
              </div>
            </div>

            <!-- Emergency Contacts -->
            <div class="emergency-contacts">
              <h3>ğŸ“ Kontak Darurat</h3>
              <div class="contact-list">
                <div class="contact-item">
                  <strong>Dr. Hewan Jakarta</strong>
                  <span>ğŸ“ 021-12345678</span>
                </div>
                <div class="contact-item">
                  <strong>Klinik Hewan 24 Jam</strong>
                  <span>ğŸ“ 0812-3456-7890</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Monitoring Pertumbuhan Tab -->
      <div id="monitoring" class="tab-content">
        <div class="module-header">
          <h2>ğŸ“ˆ Monitoring Pertumbuhan</h2>
          <p>Pantau dan analisis perkembangan fisik hewan ternak</p>
        </div>

        <div class="monitoring-section">
          <!-- Animal Selector -->
          <div class="animal-selector-section">
            <div class="form-group">
              <label for="selectAnimalMonitoring">Pilih Hewan untuk Monitoring:</label>
              <select id="selectAnimalMonitoring" onchange="loadGrowthData()">
                <option value="">-- Pilih Hewan --</option>
                <!-- Will be populated by JavaScript -->
              </select>
            </div>
          </div>

          <!-- Growth Input Form -->
          <div class="growth-input">
            <h3>ğŸ“Š Input Data Pertumbuhan</h3>
            <form id="growthForm">
              <div class="form-row">
                <div class="form-group">
                  <label for="measureDate">Tanggal Pengukuran</label>
                  <input type="date" id="measureDate" required />
                </div>
                <div class="form-group">
                  <label for="currentWeight">Berat Badan (kg)</label>
                  <input type="number" id="currentWeight" step="0.1" min="0" required />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="currentHeight">Tinggi (cm)</label>
                  <input type="number" id="currentHeight" step="0.1" min="0" />
                </div>
                <div class="form-group">
                  <label for="currentLength">Panjang (cm)</label>
                  <input type="number" id="currentLength" step="0.1" min="0" />
                </div>
              </div>

              <div class="form-group">
                <label for="growthNotes">Catatan Pertumbuhan</label>
                <textarea id="growthNotes" rows="2" placeholder="Kondisi fisik, nafsu makan, dll"></textarea>
              </div>

              <button type="submit" class="btn btn-primary">
                ğŸ’¾ Simpan Data Pertumbuhan
              </button>
            </form>
          </div>

          <!-- Growth Charts -->
          <div class="growth-charts">
            <h3>ğŸ“ˆ Grafik Pertumbuhan</h3>
            <div class="chart-container">
              <canvas id="growthChart" width="400" height="200"></canvas>
            </div>
            
            <div class="growth-analysis">
              <h4>ğŸ“Š Analisis Pertumbuhan</h4>
              <div id="growthAnalysis" class="analysis-cards">
                <!-- Analysis results will be shown here -->
              </div>
            </div>
          </div>

          <!-- Growth Alerts -->
          <div class="growth-alerts">
            <h3>âš ï¸ Peringatan Pertumbuhan</h3>
            <div id="growthAlerts" class="alert-list">
              <!-- Alerts will be displayed here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Panen Tab -->
      <div id="panen" class="tab-content">
        <div class="module-header">
          <h2>ğŸŒ¾ Manajemen Panen</h2>
          <p>Kelola hasil panen dan distribusi produk peternakan</p>
        </div>

        <div class="panen-tabs">
          <button class="sub-tab active" onclick="showSubTab('pencatatan-panen')">
            ğŸ“ Pencatatan Panen
          </button>
          <button class="sub-tab" onclick="showSubTab('stok-management')">
            ğŸ“¦ Manajemen Stok
          </button>
          <button class="sub-tab" onclick="showSubTab('pasca-panen')">
            ğŸ­ Pasca Panen
          </button>
          <button class="sub-tab" onclick="showSubTab('penjualan')">
            ğŸ’° Penjualan
          </button>
        </div>

        <!-- Pencatatan Panen Sub Tab -->
        <div id="pencatatan-panen" class="sub-content active">
          <div class="harvest-recording">
            <form id="harvestForm">
              <h3>ğŸ“‹ Form Pencatatan Panen</h3>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="harvestDate">Tanggal Panen</label>
                  <input type="date" id="harvestDate" required />
                </div>
                <div class="form-group">
                  <label for="harvestType">Jenis Produk</label>
                  <select id="harvestType" required>
                    <option value="">Pilih Jenis Produk</option>
                    <option value="Susu">Susu (Liter)</option>
                    <option value="Telur">Telur (Butir)</option>
                    <option value="Daging">Daging (Kg)</option>
                    <option value="Bulu">Bulu/Wol (Kg)</option>
                    <option value="Lainnya">Lainnya</option>
                  </select>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="harvestQuantity">Jumlah/Volume</label>
                  <input type="number" id="harvestQuantity" step="0.1" min="0" required />
                </div>
                <div class="form-group">
                  <label for="harvestUnit">Satuan</label>
                  <select id="harvestUnit">
                    <option value="Kg">Kilogram (Kg)</option>
                    <option value="Liter">Liter</option>
                    <option value="Butir">Butir</option>
                    <option value="Ekor">Ekor</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label for="sourceAnimal">Hewan Sumber</label>
                <select id="sourceAnimal">
                  <option value="">-- Pilih Hewan (Opsional) --</option>
                  <!-- Will be populated by JavaScript -->
                </select>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="harvestQuality">Kualitas Produk</label>
                  <select id="harvestQuality">
                    <option value="Grade A">Grade A (Excellent)</option>
                    <option value="Grade B">Grade B (Good)</option>
                    <option value="Grade C">Grade C (Fair)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="storageLocation">Lokasi Penyimpanan</label>
                  <input type="text" id="storageLocation" />
                </div>
              </div>

              <div class="form-group">
                <label for="harvestNotes">Catatan Panen</label>
                <textarea id="harvestNotes" rows="3" placeholder="Kondisi panen, kualitas, dll"></textarea>
              </div>

              <button type="submit" class="btn btn-primary">
                ğŸ’¾ Simpan Data Panen
              </button>
            </form>
          </div>
        </div>

        <!-- Manajemen Stok Sub Tab -->
        <div id="stok-management" class="sub-content">
          <div class="stock-management">
            <div class="stock-overview">
              <h3>ğŸ“¦ Ringkasan Stok</h3>
              <div id="stockOverview" class="stock-cards">
                <!-- Stock cards will be populated by JavaScript -->
              </div>
            </div>

            <div class="stock-table">
              <h3>ğŸ“Š Detail Inventaris</h3>
              <div id="stockTable">
                <!-- Stock table will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Pasca Panen Sub Tab -->
        <div id="pasca-panen" class="sub-content">
          <div class="post-harvest">
            <h3>ğŸ­ Proses Pasca Panen</h3>
            
            <div class="process-steps">
              <div class="step-card">
                <div class="step-number">1</div>
                <h4>ğŸ“¦ Pengemasan</h4>
                <p>Panduan pengemasan sesuai standar</p>
                <button class="btn btn-small">ğŸ“‹ Lihat Panduan</button>
              </div>

              <div class="step-card">
                <div class="step-number">2</div>
                <h4>â„ï¸ Penyimpanan</h4>
                <p>Kondisi optimal penyimpanan produk</p>
                <button class="btn btn-small">ğŸŒ¡ï¸ Monitor Suhu</button>
              </div>

              <div class="step-card">
                <div class="step-number">3</div>
                <h4>ğŸšš Distribusi</h4>
                <p>Koordinasi pengiriman ke distributor</p>
                <button class="btn btn-small">ğŸ“ Lacak Pengiriman</button>
              </div>
            </div>

            <!-- Quality Control -->
            <div class="quality-control">
              <h4>âœ… Quality Control</h4>
              <form id="qualityForm">
                <div class="form-row">
                  <div class="form-group">
                    <label for="qcProduct">Produk</label>
                    <select id="qcProduct">
                      <!-- Options will be populated -->
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="qcDate">Tanggal Pemeriksaan</label>
                    <input type="date" id="qcDate" />
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="qcResults">Hasil Pemeriksaan</label>
                  <textarea id="qcResults" rows="3"></textarea>
                </div>
                
                <button type="submit" class="btn">ğŸ’¾ Simpan QC</button>
              </form>
            </div>
          </div>
        </div>

        <!-- Penjualan Sub Tab -->
        <div id="penjualan" class="sub-content">
          <div class="sales-management">
            <div class="marketplace-integration">
              <h3>ğŸ›’ Integrasi Marketplace</h3>
              <div class="marketplace-cards">
                <div class="marketplace-card">
                  <div class="marketplace-icon">ğŸª</div>
                  <h4>Pasar Lokal</h4>
                  <button class="btn">ğŸ“¤ Upload Produk</button>
                </div>
                
                <div class="marketplace-card">
                  <div class="marketplace-icon">ğŸ’»</div>
                  <h4>E-Commerce</h4>
                  <button class="btn">ğŸ”— Integrasikan</button>
                </div>
              </div>
            </div>

            <div class="sales-tracking">
              <h3>ğŸ’° Pelacakan Penjualan</h3>
              <div id="salesSummary" class="sales-summary">
                <!-- Sales summary will be displayed here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Evaluasi dan Analisis Tab -->
      <div id="evaluasi" class="tab-content">
        <div class="module-header">
          <h2>ğŸ“‹ Evaluasi dan Analisis</h2>
          <p>Analisis kinerja peternakan dan pengambilan keputusan berbasis data</p>
        </div>

        <div class="evaluation-tabs">
          <button class="sub-tab active" onclick="showSubTab('dashboard-kpi')">
            ğŸ“Š Dashboard KPI
          </button>
          <button class="sub-tab" onclick="showSubTab('laporan')">
            ğŸ“„ Laporan
          </button>
          <button class="sub-tab" onclick="showSubTab('analisis-data')">
            ğŸ“ˆ Analisis Data
          </button>
          <button class="sub-tab" onclick="showSubTab('rekomendasi')">
            ğŸ’¡ Rekomendasi
          </button>
        </div>

        <!-- Dashboard KPI Sub Tab -->
        <div id="dashboard-kpi" class="sub-content active">
          <div class="kpi-dashboard">
            <div class="performance-metrics">
              <h3>ğŸ“Š Metrik Kinerja Utama</h3>
              <div class="metrics-grid">
                <div class="metric-card">
                  <div class="metric-icon">ğŸ¥›</div>
                  <div class="metric-value" id="milkProduction">0 L</div>
                  <div class="metric-label">Produksi Susu/Hari</div>
                  <div class="metric-trend positive">+5.2%</div>
                </div>

                <div class="metric-card">
                  <div class="metric-icon">ğŸ¥š</div>
                  <div class="metric-value" id="eggProduction">0</div>
                  <div class="metric-label">Produksi Telur/Hari</div>
                  <div class="metric-trend positive">+3.8%</div>
                </div>

                <div class="metric-card">
                  <div class="metric-icon">ğŸ“ˆ</div>
                  <div class="metric-value" id="avgGrowthRate">0%</div>
                  <div class="metric-label">Rata-rata Pertumbuhan</div>
                  <div class="metric-trend negative">-1.2%</div>
                </div>

                <div class="metric-card">
                  <div class="metric-icon">ğŸ’Š</div>
                  <div class="metric-value" id="healthIndex">0%</div>
                  <div class="metric-label">Indeks Kesehatan</div>
                  <div class="metric-trend positive">+2.1%</div>
                </div>
              </div>
            </div>

            <!-- Performance Charts -->
            <div class="performance-charts">
              <div class="chart-section">
                <h4>ğŸ“ˆ Tren Produktivitas (6 Bulan Terakhir)</h4>
                <canvas id="productivityChart" width="400" height="200"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Laporan Sub Tab -->
        <div id="laporan" class="sub-content">
          <div class="reports-section">
            <div class="report-generators">
              <h3>ğŸ“„ Generator Laporan</h3>
              <div class="report-options">
                <div class="report-card">
                  <h4>ğŸ“Š Laporan Bulanan</h4>
                  <p>Ringkasan performa peternakan bulan ini</p>
                  <button class="btn" onclick="generateMonthlyReport()">
                    ğŸ“‹ Generate
                  </button>
                </div>

                <div class="report-card">
                  <h4>ğŸ“ˆ Laporan Tahunan</h4>
                  <p>Evaluasi kinerja tahunan yang komprehensif</p>
                  <button class="btn" onclick="generateAnnualReport()">
                    ğŸ“‹ Generate
                  </button>
                </div>

                <div class="report-card">
                  <h4>ğŸ¥ Laporan Kesehatan</h4>
                  <p>Status kesehatan dan perawatan hewan</p>
                  <button class="btn" onclick="generateHealthReport()">
                    ğŸ“‹ Generate
                  </button>
                </div>

                <div class="report-card">
                  <h4>ğŸ’° Laporan Keuangan</h4>
                  <p>Analisis pendapatan dan pengeluaran</p>
                  <button class="btn" onclick="generateFinancialReport()">
                    ğŸ“‹ Generate
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Analisis Data Sub Tab -->
        <div id="analisis-data" class="sub-content">
          <div class="data-analysis">
            <h3>ğŸ” Analisis Data Lanjutan</h3>
            
            <div class="analysis-tools">
              <div class="analysis-card">
                <h4>ğŸ“Š Analisis Tren</h4>
                <p>Identifikasi pola dan tren dalam data peternakan</p>
                <button class="btn">ğŸ” Analisis</button>
              </div>

              <div class="analysis-card">
                <h4>âš ï¸ Deteksi Anomali</h4>
                <p>Identifikasi anomali dalam performa hewan</p>
                <button class="btn">ğŸ” Deteksi</button>
              </div>

              <div class="analysis-card">
                <h4>ğŸ¯ Prediksi</h4>
                <p>Prediksi waktu panen dan produktivitas</p>
                <button class="btn">ğŸ”® Prediksi</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Rekomendasi Sub Tab -->
        <div id="rekomendasi" class="sub-content">
          <div class="recommendations">
            <h3>ğŸ’¡ Rekomendasi Sistem</h3>
            <div id="systemRecommendations" class="recommendation-list">
              <!-- Recommendations will be populated by JavaScript -->
            </div>

            <!-- Export Options -->
            <div class="export-options">
              <h4>ğŸ“¤ Export Data</h4>
              <div class="export-buttons">
                <button class="btn" onclick="exportToExcel()">
                  ğŸ“Š Export ke Excel
                </button>
                <button class="btn" onclick="exportToPDF()">
                  ğŸ“„ Export ke PDF
                </button>
                <button class="btn" onclick="exportToBI()">
                  ğŸ“ˆ Export ke BI Tools
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Search Tab -->
      <div id="search" class="tab-content">
        <div class="search-header">
          <h2>ğŸ” Pencarian Hewan</h2>
          <p class="search-subtitle">
            Temukan hewan dengan berbagai metode pencarian
          </p>
        </div>

        <!-- Search Methods Cards -->
        <div class="search-methods-grid">
          <div
            class="search-method-card active"
            onclick="switchSearchMethod('text')"
          >
            <div class="method-icon">ğŸ”</div>
            <div class="method-title">Pencarian Teks</div>
            <div class="method-description">
              Cari berdasarkan nama, spesies, atau atribut lainnya
            </div>
          </div>
          <div class="search-method-card" onclick="switchSearchMethod('id')">
            <div class="method-icon">ğŸ·ï¸</div>
            <div class="method-title">Input ID</div>
            <div class="method-description">Cari hewan dengan ID spesifik</div>
          </div>
          <div
            class="search-method-card"
            onclick="switchSearchMethod('barcode')"
          >
            <div class="method-icon">ğŸ“±</div>
            <div class="method-title">Scan Barcode</div>
            <div class="method-description">
              Gunakan kamera atau input manual
            </div>
          </div>
        </div>

        <!-- Search Containers -->
        <div class="search-content">
          <!-- Text Search -->
          <div id="textSearch" class="search-container active">
            <div class="search-input-wrapper">
              <div class="search-input-container">
                <div class="search-icon-wrapper">
                  <span class="search-icon">ğŸ”</span>
                </div>
                <input
                  type="text"
                  id="searchInput"
                  placeholder="Ketik nama hewan, spesies, ras, lokasi, atau warna..."
                  class="modern-input"
                />
                <div
                  class="search-clear"
                  onclick="clearSearch()"
                  style="display: none"
                >
                  âœ•
                </div>
              </div>
              <div class="search-suggestions">
                <span class="suggestion-label">Saran pencarian:</span>
                <div class="suggestion-tags">
                  <span class="suggestion-tag" onclick="quickSearch('kucing')"
                    >Kucing</span
                  >
                  <span class="suggestion-tag" onclick="quickSearch('anjing')"
                    >Anjing</span
                  >
                  <span class="suggestion-tag" onclick="quickSearch('sehat')"
                    >Status Sehat</span
                  >
                  <span class="suggestion-tag" onclick="quickSearch('jantan')"
                    >Jantan</span
                  >
                  <span class="suggestion-tag" onclick="quickSearch('betina')"
                    >Betina</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- ID Search -->
          <div id="idSearch" class="search-container">
            <div class="search-input-wrapper">
              <div class="id-search-card">
                <div class="card-header">
                  <h3>ğŸ·ï¸ Pencarian berdasarkan ID</h3>
                  <p>Masukkan ID unik hewan untuk pencarian cepat</p>
                </div>
                <div class="search-input-container">
                  <div class="search-icon-wrapper">
                    <span class="search-icon">ğŸ·ï¸</span>
                  </div>
                  <input
                    type="number"
                    id="idInput"
                    placeholder="Contoh: 1, 2, 3..."
                    class="modern-input"
                    min="1"
                  />
                  <button class="search-btn" onclick="searchById()">
                    <span>Cari</span>
                    <div class="btn-ripple"></div>
                  </button>
                </div>
                <div class="id-examples">
                  <span class="example-label">ID Terakhir:</span>
                  <span class="example-id" id="lastIdExample">-</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Barcode Scanner -->
          <div id="barcodeSearch" class="search-container">
            <div class="search-input-wrapper">
              <div class="barcode-scanner-card">
                <div class="card-header">
                  <h3>ğŸ“± Scanner Barcode</h3>
                  <p>Scan barcode atau masukkan kode secara manual</p>
                </div>

                <!-- Camera Scanner Section -->
                <div class="scanner-section">
                  <div class="scanner-controls">
                    <button
                      class="scanner-btn primary"
                      onclick="startBarcodeScanner()"
                    >
                      <span class="btn-icon">ğŸ“·</span>
                      <span>Mulai Scan Kamera</span>
                    </button>
                    <button
                      class="scanner-btn secondary"
                      onclick="stopBarcodeScanner()"
                    >
                      <span class="btn-icon">â¹ï¸</span>
                      <span>Stop Scanner</span>
                    </button>
                  </div>

                  <div id="scannerContainer" class="scanner-viewport">
                    <div class="scanner-frame">
                      <video id="video" autoplay playsinline></video>
                      <div class="scanner-overlay">
                        <div class="scanner-line"></div>
                        <div class="scanner-corners">
                          <div class="corner top-left"></div>
                          <div class="corner top-right"></div>
                          <div class="corner bottom-left"></div>
                          <div class="corner bottom-right"></div>
                        </div>
                      </div>
                    </div>
                    <canvas id="canvas" style="display: none"></canvas>
                    <p class="scanner-instruction">
                      Arahkan kamera ke barcode dan tunggu hingga terdeteksi
                    </p>
                  </div>
                </div>

                <!-- Scan Result -->
                <div id="scanResult" class="scan-result-card"></div>

                <!-- Manual Input Section -->
                <div class="manual-input-section">
                  <div class="section-divider">
                    <span class="divider-text">atau</span>
                  </div>

                  <div class="manual-input-card">
                    <h4>ğŸ“Š Input Manual Barcode</h4>
                    <div class="search-input-container">
                      <div class="search-icon-wrapper">
                        <span class="search-icon">ğŸ“Š</span>
                      </div>
                      <input
                        type="text"
                        id="barcodeInput"
                        placeholder="Masukkan 8 digit kode barcode..."
                        class="modern-input"
                        maxlength="8"
                      />
                      <button class="search-btn" onclick="searchByBarcode()">
                        <span>Cari</span>
                        <div class="btn-ripple"></div>
                      </button>
                    </div>
                    <div class="barcode-examples">
                      <span class="example-label">Format:</span>
                      <span class="example-code">00000001</span>
                      <span class="example-code">00000023</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Search Results -->
        <div id="searchResults" class="search-results-container"></div>
      </div>

      <!-- List Tab -->
      <div id="list" class="tab-content">
        <h2>Daftar Semua Hewan</h2>
        <div id="animalList"></div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/app.js"></script>
  </body>
</html>
